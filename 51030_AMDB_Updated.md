# *51030 - Cost Anomaly*

| Field | Details |
|-------|---------|
| **Unique Alert ID** | 51030 - Cost Anomaly |
| **Alert Condition** | This alert leverages AWS's Cost Anomaly Detection. AWS uses a sophisticated proprietary machine learning algorithm to identify aberrant behavior with a component or service running in the AWS ecosystem. We have created a process to import AWS's Cost Anomaly information into elastic. We then leverage our alerting infrastructure to create these SDP tickets.<br><br>**Ticket Routing Logic (New/Comment Decision):**<br>When a new alert fires for a hostname, the system checks if an open ticket already exists for that hostname:<br><br>**1. No existing open ticket:** Create a new ticket.<br>**2. Existing open ticket with LOWER severity (higher P-number) than the new alert (priority escalation):** Create a new ticket. Examples: existing ticket is P3 and new alert is P1 or P2; existing ticket is P2 and new alert is P1.<br>**3. Existing open ticket with SAME or HIGHER severity (same or lower P-number) than the new alert (priority same or de-escalation):** Comment on the existing ticket. Examples: existing ticket is P1 and new alert is P2 or P3; existing ticket is P2 and new alert is P2 or P3. |
| **Schedule** | Every 30 minutes looking back an 1805 seconds (i.e. 30 minutes and 5 seconds), 7 days a week. |
| **Discover Link** | [<Click Here>](https://287d86a4b1184182b340bd5074cdfd7e.us-east-1.aws.found.io:9243/s/information-technology/app/discover) |
| **Service Desk Actions** | **FOR P1 We should wake someone up for these types of alerts. Notify the team or if no team in ticket notify TechOps by posting in the SD-TechOps channel. In all cases, please also email a link to the SDP ticket to [FinOps_WG@hedgeserv.com](mailto:FinOps_WG@hedgeserv.com).**<br><br>***\*\*\*FOR P2 and P3, TEMPORARILY, Li Wang and FinOps will receive a daily report from SDP with all the consolidated P2 and P3 Cost Anomaly Tickets. Service Desk should just close the ticket.***<br><br>[Click here for Service Desk Actions](https://hedgeservcorp.sharepoint.com) |
| **Priority Level** | The alerts look at the value of ***labels.alert.impact.total_impact***. This field represents the total dollar impact of the anomaly.<br><br>Priority will be set as follows:<br>• **P1** - when value is ≥ $2,500. **We should wake someone up for these types of alerts. Notify the team or if no team in ticket notify TechOps by posting in the SD-TechOps channel.**<br>• **P2** - when value is ≥ $750 and < $2,500<br>• **P3** - when the value is < $750. Keep in mind alerts have different thresholds. The minimum value is based on the threshold defined in the alert subscription name. The name of ***labels.alert.subscription.name*** includes an amount, a percentage or both. For example, "Cost Threshold Exceeds $100 and 3%" |
| **Impact statement** | AWS generates alerts when their proprietary machine learning algorithm detects an anomaly. This alert notifies us with information about the component(s) or service(s) where the anomaly has taken place. AWS includes in the information about the anomaly the cost impact.<br><br>Teams need to be notified to make sure the anomaly can be explain and take corrective actions if needed. |
| **Which team owns it (ticket routing)** | The owner will be included in the ticket. The data comes from labels.alert.monitor.owner. These are defined on the individual monitors in AWS. Ultimately they come from the configuration files where we define all the cost categories.<br><br>In the event there is no data in this field, please contact TechOps.<br><br>The initial cost category configurations we created y the FinOps group and reviewed with each owner/team. |
| **Primary Contact Function** | This will be included in the ticket. The data comes from labels.hs:std:svc-software-owner field. In the event there is no data in this field, please contact TechOps. |
| **Call Application Support?** | No |
| **Special Instructions** | In all cases, please also email a link to the SDP ticket to [FinOps_WG@hedgeserv.com](mailto:FinOps_WG@hedgeserv.com). |
| **2nd Level Support Instructions** | [Click here for Cost Anomaly Playbook](https://hedgeservcorp.sharepoint.com) |
